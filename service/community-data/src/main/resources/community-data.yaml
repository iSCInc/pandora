logging:
  level: INFO
  appenders:
    - type: console
      threshold: INFO
      timeZone: UTC
      target: stdout
    - type: logstash-socket
      host: ${consul:LOG_HOST:127.0.0.1}
      port: ${consul:LOG_PORT:1410}
      fieldNames:
        message: rawMessage
        level: rawLevel
        tags: rawTags
        context: rawContext
      customFields:
        appname: community-data
server:
  type: default
  applicationConnectors:
  - type: http
    port: 8080
  adminConnectors:
  - type: http
    port: 8081
metrics:
  reporters:
    - type: influxdb
      host: ${consul:INFLUXDB_HOST:127.0.0.1}
      port: ${consul:INFLUXDB_HOST:5551}
      prefix: community-data
      frequency: 5 seconds
      includes:
        - com\.wikia\.communitydata\..*
consulConfiguration:
  tags: ${consul:CONSUL_TAGS:[testing]}
  consulUri: ${consul:CONSUL_URI:http://localhost:8500}
  heartbeatInterval: 2s
  heartbeatTTL: 5s
dataSourceFactory:
  driverClass: com.mysql.jdbc.Driver
  url: jdbc:mysql://${consul:MYSQL_HOST}:${consul:MYSQL_PORT:3306}/${consul:MYSLQ_DB:wikicities}
  user: ${consul:MYSQL_USER}
  password: ${consul:MYSQL_PASS}
